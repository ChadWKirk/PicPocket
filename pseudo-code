https://github.com/ChadWKirk/PicPocket.git

Concepts to brush up on:

React state (when it visibly updates, how to increment state using previous state)
JSON parsing (JSON.parse(), JSON.stringify(), response.json())
How to handle individual components in an array (ToDo tutorial)

Hosting and git workflow:

Complete app is on github in above link

Frontend is hosted on Netlify - Install Netlify CLI in client folder > npm run build > netlify deploy ./build > netlify deploy --prod ./build

Backend is hosted on Heroku - Install Heroku CLI in server folder > git add . > git commit -am "message" > git push heroku main

Have domain variable in App.js to toggle between using localhost for fetch routes or heroku domain for fetch routes to make it easier to develop

Email:

Email is done by Zoho and is connected to the https://picpoccket.com domain.

Image Selection (My Pics, My Likes):

- When single select, show edit stuff in form.
- Can mass delete and/or mass download.
- to handle form contents:

on checkbox click, if indexof object data is >= 0 (or .includes(object data) filter from array. if indexof <0 (-1) (or .!includes(object data), push object with info to an array.

On label click, reset array and then push label's info to array.

If massArr.current.length == 1, show that images info and preview and set submit/delete to that image

If array.length > 1, show stack of little images and say "Select a single image to edit it here"

- Keep array of what is selected in order to mass delete/download
- Have buttons that appear for delete/download when at least one image is selected

---

TASKS:

styling:

upload page - make it so dragging over upload form doesn't rerender image items causing them to flicker

put skeleton loading for all images

copy mainpage stuff to mainpagemostpopular

mypics - loading for submit/delete/massdelete (make loading/progress bar at top of the page like youtube), make it so that if all checkboxes are checked, selectall box checked = true and if not all of them are checked then select all checkbox checked = false, make it so when deleting all it deletes all from front end (more than 20 or so), general styling, make page responsive.

make about us page

style emails

style sign up success page

---

Google and Facebook OAuth - https://console.cloud.google.com/ - https://youtu.be/TqlVP_IkS28 - https://www.npmjs.com/package/@react-oauth/google

Google / facebook sign in/up:

- post to /oauth/sign
- instead of username/pw, check for email/username
- if user with $and: email, username exists > run /signin stuff
- if doesn't exist > insert user as type: oauth, email: email, username: full name, pfp: google pic, no tokens because no need for email verify or pw change/forgot password > run /signup stuff (token)
- run dispatch thing that takes the token as payload
- navigate to either home page or sign up success page depending on res.json()
- don't display change password or change email if curUser.type === "oauth"

protect api routes for not logged in users (no token)

get cloudinary name and preset from back end instead of storing in env in front end (unsafe) - upload using multer to handle formData in express - https://youtu.be/wIOpe8S2Mk8

put termly env vars in backend as well

handle errors for blank fields etc.

make it so that duplicate public ID's get named something else in cloudinary (upload preset in cloudinary rules)

make liking a pic send you to sign up page if clicked when signed out

---

How to manage images:

- host images on Cloudinary, fetch them from their API, store in MongoDB on upload so you can add likes and author.
- Can turn PNG or other lossless formats into jpg by just changing the extension on the url. get lastIndexOf "." in the URL and replace everything after it with "jpg". Use cloudinary scale terms and q_x term in url to scale down image dimensions and quality to further optimize them. https://cloudinary.com/documentation/image_optimization#how_to_optimize_image_sizing. search slice in mypics page for code. https://cloudinary.com/documentation/image_optimization. for upload page, need to wait until it is uploaded and secure url is generated before slicing.

SIGNED OUT BEHAVIOR:

    - need to make it so that when liking a pic if signed out, don't increase likes
    and don't add "undefined" to likedBy. And take to sign up page
    that also has a sign in link "Already a member? Sign In"

Search:

- make it so plural form gets searched when searching for something and vice versa. Example searching for "Cats" brings up "Cat" and vice versa

Upload Images:

- deal with image view page going to proper URL and using the given title and description etc.

- don't allow anything but numbers, letters (both cases), spaces, undercores, dashes and apostrophes on edit in title - turn title box red and have text in red by Title label "(Do Not Use Special Characters.)". If try to submit with special characters in title, show alert saying "Remove Special Characters From Title" and don't submit. - run a function in onChange of title input field that checks if anything other than allowed chars are in title and changes input css accordingly. - have if statement in submit function to check if title has special chars to run post request or show alert.

My Pics page:

- DEAL WITH EDIT SUCCESS/FAILURE
- under title, have gallery to show pics. have ability to sort pics just like in a search page
- have the ability to check off pictures for mass delete

Likes page:

- show liked pictures in a gallery like search page
- able to sort like search page
- able to search through liked images with little search bar to the right. automatically updates them without changing url
- able to check off multiple ones and click remove from likes with are you sure box
- able to click three dots icon on individual images and hit remove from likes with are you sure box

Image-View Page:

- need to make page user goes to when clicking on a picture
- will have title, like button, description, price, tags, add to cart button, buy now button and free download button
- Will have related images section under that main section detailed above
- When clicking a tag, it will go to /search/thatTag and pull up all images with that tag or word in title

Overlay tip - use pointer-events: none; on after pseudo element to make it click through so you can click the image and right click save as the image.

Sign up:

- signing up as new user works
- sometimes sign up confirm box doesn't sign users out
- sometimes after confirm box, account page is blank

- send authentication email

server:

- fix "can not read collection" error that you get sometimes when server loads. Something with database not being ready yet.

misc:

- need to hash passwords
